<!--
  Copyright (c) 2017 Bonnie Schulkin. All Rights Reserved.

  This file is part of BoxCharter.

  BoxCharter is free software: you can redistribute it and/or modify it under
  the terms of the GNU Affero General Public License as published by the Free
  Software Foundation, either version 3 of the License, or (at your option)
  any later version.

  BoxCharter is distributed in the hope that it will be useful, but WITHOUT
  ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License
  for more details.

  You should have received a copy of the GNU Affero General Public License
  along with BoxCharter. If not, see <http://www.gnu.org/licenses/>.
-->

<form (ngSubmit)="register()" #regForm="ngForm">
  <section class="form-block">
    <div *ngFor="let input of inputs | keys" class="form-group">
        <label [class.required]="input.value.required" 
            [for]="input.key">
                {{ input.value.label }}
        </label>
        <label [for]="input.name" 
            aria-haspopup="true" 
            role="tooltip" 
            class="tooltip tooltip-validation tooltip-md"
            [class.invalid]="input.value.errMsg">
            <input 
                class="register" 
                [(ngModel)]="input.value.value"
                (blur)="onChange(input.value.name)"
                [required]="input.value.required"
                [type]="input.value.type" 
                [name]="input.value.name" 
                [id]="input.value.name" 
                [placeholder]="input.value.placeholder">
            <span *ngIf="input.value.errMsg" 
                class="tooltip-content">
                    {{ input.value.errMsg }}
            </span>
        </label>
    </div>
    <div class="form-group">
    <label>
    </label>
    <label>
        <button type="submit" class="btn btn-primary register">Register</button>
        <button type="button" class="btn btn-outline register" (click)="regForm.reset()">Clear Form</button>
        <button type="button" class="btn btn-link" (click)="loginRegisterService.mode='login'">Login</button>
    </label>
    </div>
  </section>
</form>